- default:
    link:
      create: true

- clean: ['~']

- shell:
  - ["sudo add-apt-repository ppa:neovim-ppa/unstable", "sudo apt update", "sudo apt install neovim git python3-pip python3-venv universal-ctags graphiz fd-find"]
  - ["sudo ln -s $(which fdfind) ~/.local/bin/fd"]
  - ["sh -c 'curl -fLo "${XDG_DATA_HOME:-$HOME/.local/share}"/nvim/site/autoload/plug.vim --create-dirs \
       https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim'"]
  - ["curl https://sh.rustup.rs -sSf | sh", ". .profile", "cargo install --locked code-minimap", "cargo install --locked bat"]
  - ["curl -fsSL https://deb.nodesource.com/setup_lts.x | sudo -E bash -", "sudo apt install -y nodejs"]
  - ["wget https://go.dev/dl/go1.18.2.linux-amd64.tar.gz", "rm -rf /usr/local/go && tar -C /usr/local -xzf go1.18.2.linux-amd64.tar.gz"]
  - ["export PATH=$PATH:/usr/local/go/bin", "export PATH=$PATH:/usr/local/fd/bin"]
  - [". .profile", "pip3 install lazygit", "pip3 install lizard"]

- link:
    ~/.config/nvim/init.vim: init.vim
    ~/.config/nvim/plugins.vim: plugins.vim
    ~/.config/nvim/plugins/: plugins

- shell:
  - ["nvim +PlugInstall"]
